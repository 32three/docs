---
title: Service Usage Reference
template: default
---

> This page reference all murano services accessible through Murano scripting.
> Service are composed by two distincts components: **operations** & **events**.
> **Operations** are function which can directly be called from within a script.
> **Events** triggers the execution of a script.

# Index

  * [Device Gateway Service](#device-gateway-service) 
  * [Twilio Service](#twilio-service) 
  * [User Management Service](#user-management-service) 
  * [Key-Value Store](#key-value-store) 
  * [Timer Service API](#timer-service-api) 
  * [Web-Socket Gateway Service](#web-socket-gateway-service) 
  * [Time Series Storage Service](#time-series-storage-service) 
  * [Email Service](#email-service) 
  * [Custom User API Gateway Service](#custom-user-api-gateway-service) 

# Services

  
## Device Gateway Service

>API allowing communication with IoT devices

### Operations

#### productInfo

>Get product info.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **pid** | string | product id |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  default | object | Product information object |
| - id | string | Url of the device data endpoint. |
| - rid | string | Resource Identifier (RID) of the product. |
| - label | string | Display name of the product. |
| - endpoint | string | Url of the device data endpoint. |

##### Example
```lua
local parameters = { 
 pid="amet aute"
 }

response = Device.productInfo(parameters)
```

#### rpcCall

>Converts the Product ID ({pid}) to its CIK, adds the CIK as the rpc auth object, and forwards the request.<br/><br/>See http://docs.exosite.com/rpc/

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **pid** | string | product id, need to be found in product id list of solution service config for access rights. |
| - **body** | object |  |
| -- auth | object |  |
| --- client_id | string | client context |
| -- **calls** | object[] |  |
| --- id | string | call response mapping id |
| --- arguments | string[] |  |
| --- procedure | string |  |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - id | string | RPC request id |
| - error | object | RPC call errors |
| -- code | integer | RPC error code |
| -- context | string | RPC error data |
| -- message | string | RPC error message |
| - result | array | RPC arguments, defined by the RPC call |
| - status | string | RPC call status |

##### Example
```lua
local parameters = { 
 pid="in", 
 body={ 
  calls={ 
 { 
procedure="sit", 
arguments={ 
 "ullamc", 
 "labore sunt nulla officia", 
 "Lorem pariatur nisi", 
 "minim"
 }
 }, 
 { 
procedure="in veniam Lorem quis", 
arguments={ 
 "culpa ipsum sint", 
 "esse labo"
 }
 }, 
 { 
procedure="culpa non Ut", 
arguments={ 
 "do et in", 
 "sunt consectetu", 
 "fugiat deserunt ea aliqua", 
 "pariatur sunt deserunt"
 }
 }
 }
 }
 }

response = Device.rpcCall(parameters)
```

#### deviceCallback

>OneP service call callback from Pegasus

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **body** | object | The pegasus service callback |
| -- **code** | integer | The http response status code |
| -- **headers** | object | optional http response headers |
| -- **message** | string | The http response body |
| -- **request_id** | string | The request id associated with the ServiceCall |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  204 |  | OK |
|  400 |  | Invalid request id |
|  409 |  | Conflict |
|  415 |  | Unsupported Media Type |

##### Example
```lua
local parameters = { 
 body={ 
  code=-17567753, 
  ["request_id"]="ad", 
  headers={  }, 
  message="sint cillum sit dolor"
 }
 }

response = Device.deviceCallback(parameters)
```


### Events

#### datapoint

>Data generated by devices and pushed by the OneP device API

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  data | object | The data from the device |
| - api | string | Provider API |
| - **pid** | string | Device product id |
| - rid | string | Unique device resource id |
| - seq | integer | The message sequence number for specific resource id |
| - alias | string | Device resource alias |
| - value | array[] | Data transmitted by the device |
| - device_sn | string | Device Serial number |
| - source_ip | string | The device source ip |
| - timestamp | integer | Event time |


##### Example
```lua
function handle_device_datapoint (data)

 ... 

end
```

#### service_call

>Data generated by devices and pushed by the OneP HTTP call API

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  data | object | The device service call |
| - **pid** | string | Device product id |
| - seq | integer | The message sequence number for specific resource id |
| - alias | string | Device alias |
| - content | string | The service request body |
| - device_sn | string | Device Serial number |
| - source_ip | string | The device source ip |
| - timestamp | integer | Event time |
| - device_rid | string | Unique device id |
| - request_id | string | Unique request id use to match with the callback |


##### Example
```lua
function handle_device_service_call (data)

 ... 

end
```

---
  
## Twilio Service

>Make call and send sms notifications with this Twilio gateway service

### Operations

#### listCall

>List all calls on Twilio

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - From | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | Only show calls from this phone number or Client identifier. |
| - To | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | Only show calls to this phone number or Client identifier. |
| - Status | string, Pattern=^\+[0-9]+$ | Only show calls currently in this status [queued, ringing, in-progress, canceled, completed, failed, busy, no-answer]. |
| - StartTime | string, Format=date | Only show messages sent on this date (in GMT format), given as YYYY-MM-DD. |
| - ParentCallSid | string, Pattern=^[0-9a-zA-Z]{34}$ | Only show calls spawned by the call with this Sid. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | results |
| - uri | string, Format=uri |  |
| - page | integer |  |
| - calls | object[] |  |
| -- to | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| -- sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| -- uri | string, Format=uri | The URI for this resource, relative to https://api.twilio.com |
| -- from | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| -- price | string, Pattern=^-?[0-9]*.?[0-9]*$ | The amount billed for the call, in the currency associated with the account. |
| -- status | string | The status of this message. |
| -- duration | integer | The length of the call in seconds. |
| -- end_time | string, Format=date-time | The end time of the call, given as GMT in RFC 2822 format. |
| -- direction | string | The direction of this message. |
| -- price_unit | string, Format=ISO 4127 | The currency in which Price is measured, in ISO 4127 format (e.g. usd, eur, jpy). |
| -- start_time | string, Format=date-time | The start time of the call, given as GMT in RFC 2822 format. |
| -- answered_by | string | If this call was initiated with answering machine detection. |
| -- api_version | string, Format=date | The version of the Twilio API used to process the message. |
| -- caller_name | string | If this call was an incoming call to a phone number with Caller ID Lookup enabled, the caller's name. |
| -- date_created | string, Format=date | The date that this resource was created, given in RFC 2822 format. |
| -- date_updated | string, Format=date | The date that this resource was last updated, given in RFC 2822 format. |
| -- formatted_to | string | Formatted To |
| -- formatted_from | string | Formatted From |
| -- forwarded_from | string | If this call was an incoming call forwarded from another number, the forwarding phone number. |
| -- parent_call_sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| -- phone_number_sid | string, Pattern=^[0-9a-zA-Z]{34}$ | If the call was inbound, this is the Sid of the IncomingPhoneNumber that received the call. |
| -- subresource_uris | object | The URIs for any subresources associate with this resource, relative to https://api.twilio.com |
| - page_size | integer |  |
| - next_page_uri | string,, Format=uri |  |
| - first_page_uri | string,, Format=uri |  |
| - previous_page_uri | string,, Format=uri |  |

##### Example
```lua
local parameters = { 
 Status="+770915455481393802224665715941274413409007402412", 
 To="1{1,2,3}80dddddd", 
 From="8{1,2,3}90dddddd"
 }

response = Twilio.listCall(parameters)
```

#### createCall

>Make a phone call

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **call** | object | The creation of a Call |
| -- **To** | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+@([0-9a-zA-Z]+\.?)+|client\:[0-9a-zA-Z]+)$, Format=E.164 | The phone number, SIP address or client identifier to call. |
| -- Url | string, Format=uri | The fully qualified URL that should be consulted when the call connects. Just like when you set a URL on a phone number for handling inbound calls. |
| -- **From** | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | The phone number or client identifier to use as the caller id. If using a phone number, it must be a Twilio number or a Verified outgoing caller id for your account. |
| -- Method | string | The HTTP method Twilio should use when making its request to the above Url parameter's value. |
| -- Record | string | Set this parameter to 'true' to record the entirety of a phone call. The RecordingUrl will be sent to the StatusCallback URL. |
| -- Timeout | boolean | The integer number of seconds that Twilio should allow the phone to ring before assuming there is no answer. |
| -- IfMachine | string | Tell Twilio to try and determine if a machine (like voicemail) or a human has answered the call. |
| -- SendDigits | string, Pattern=^[0-9\#\*w]+$ | A string of keys to dial after connecting to the number, maximum of 32 digits. |
| -- FallbackUrl | string, Format=uri | A URL that Twilio will request if an error occurs requesting or executing the TwiML at Url. |
| -- ApplicationSid | string, Pattern=^[0-9a-zA-Z]{34}$ | The 34 character sid of the application Twilio should use to handle this phone call. |
| -- FallbackMethod | string | The HTTP method that Twilio should use to request the FallbackUrl. |
| -- StatusCallback | string, Format=uri | A URL that Twilio will send asynchronous webhook requests to on every call event specified in the StatusCallbackEvent parameter. |
| -- StatusCallbackEvent | string | The call progress events that Twilio will send webhooks on. |
| -- StatusCallbackMethod | string | The HTTP method Twilio should use when requesting the above URL. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | A Call details |
| - to | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| - sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| - uri | string, Format=uri | The URI for this resource, relative to https://api.twilio.com |
| - from | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| - price | string, Pattern=^-?[0-9]*.?[0-9]*$ | The amount billed for the call, in the currency associated with the account. |
| - status | string | The status of this message. |
| - duration | integer | The length of the call in seconds. |
| - end_time | string, Format=date-time | The end time of the call, given as GMT in RFC 2822 format. |
| - direction | string | The direction of this message. |
| - price_unit | string, Format=ISO 4127 | The currency in which Price is measured, in ISO 4127 format (e.g. usd, eur, jpy). |
| - start_time | string, Format=date-time | The start time of the call, given as GMT in RFC 2822 format. |
| - answered_by | string | If this call was initiated with answering machine detection. |
| - api_version | string, Format=date | The version of the Twilio API used to process the message. |
| - caller_name | string | If this call was an incoming call to a phone number with Caller ID Lookup enabled, the caller's name. |
| - date_created | string, Format=date | The date that this resource was created, given in RFC 2822 format. |
| - date_updated | string, Format=date | The date that this resource was last updated, given in RFC 2822 format. |
| - formatted_to | string | Formatted To |
| - formatted_from | string | Formatted From |
| - forwarded_from | string | If this call was an incoming call forwarded from another number, the forwarding phone number. |
| - parent_call_sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| - phone_number_sid | string, Pattern=^[0-9a-zA-Z]{34}$ | If the call was inbound, this is the Sid of the IncomingPhoneNumber that received the call. |
| - subresource_uris | object | The URIs for any subresources associate with this resource, relative to https://api.twilio.com |

##### Example
```lua
local parameters = { 
 call={ 
  To="1{1,2,3}71dddddd", 
  From="8{1,2,3}47dddddd", 
  Url="sByucLnWrS69iHO4SPuYM9aRttZFqLf", 
  IfMachine="Continue", 
  Timeout="false", 
  Record="aliqua non", 
  Method="PUT", 
  StatusCallback="OC+fl4DjG48H2nXL0Uw8-kZjyNTMy..RKlHtSeqrKHuKjybfSbREQzAfmsckgd+geulUv8UXVsqB8,YW,zvLbijJ+M,gMQyL-oCk", 
  FallbackUrl="L3QvGUAJSCyXD0N9xPT0RYRheuZoy,d3OqevHcQUlL4ll6Ys1wOnIoZSznTZBSjFoGsAFudmbV-VW8C46XFK6N5x1,AtnDnLD+Xt", 
  FallbackMethod="POST"
 }
 }

response = Twilio.createCall(parameters)
```

#### listMessage

>List all SMS message on Twilio

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - From | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | Only show messages from this phone number or alphanumeric sender ID. |
| - To | string, Pattern=^\+[0-9]+$, Format=E.164 | Only show messages to this phone number. |
| - DateSent | string, Format=date | Only show messages sent on this date (in GMT format), given as YYYY-MM-DD. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | results |
| - uri | string, Format=uri |  |
| - page | integer |  |
| - messages | object[] |  |
| -- to | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| -- sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| -- uri | string, Format=uri | The URI for this resource, relative to https://api.twilio.com |
| -- body | string | The text of the message you want to send, limited to 1600 characters. |
| -- from | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| -- price | string, Pattern=^-?[0-9]*.?[0-9]*$ | The amount billed for the message, in the currency associated with the account. |
| -- status | string | The status of this message. |
| -- date_sent | string, Format=date | The date that the message was sent or received, given in RFC 2822 format. |
| -- direction | string | The direction of this message. |
| -- num_media | string, Format=integer | This property indicates the number of media files associated with the message. Each message may send up to 10 media files. |
| -- error_code | string | The error code, if any, associated with your message. If your message status is failed or undelivered, the ErrorCode can give you more information about the failure. |
| -- price_unit | string, Format=ISO 4127 | The currency in which Price is measured, in ISO 4127 format (e.g. usd, eur, jpy). |
| -- api_version | string, Format=date | The version of the Twilio API used to process the message. |
| -- date_created | string, Format=date | The date that this resource was created, given in RFC 2822 format. |
| -- date_updated | string, Format=date | The date that this resource was last updated, given in RFC 2822 format. |
| -- num_segments | string, Format=integer | This property indicates the number of segments that make up the message. If your body is too large to be sent as a single SMS message, it will be segmented and charged accordingly. |
| -- error_message | string | The human readable description of the ErrorCode above. |
| -- subresource_uri | string, Format=uri | The URIs for any subresources associate with this resource, relative to https://api.twilio.com |
| -- MessagingServiceSid | string, Pattern=^[0-9a-zA-Z]{34}$ | The unique id of the Messaging Service used with the message. |
| - page_size | integer |  |
| - next_page_uri | string,, Format=uri |  |
| - first_page_uri | string,, Format=uri |  |
| - previous_page_uri | string,, Format=uri |  |

##### Example
```lua
local parameters = { 
 DateSent="2096-02-29"
 }

response = Twilio.listMessage(parameters)
```

#### postMessage

>Send an SMS message

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **message** | object | The creation of a SMS message |
| -- **To** | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| -- Body | string | The text of the message you want to send, limited to 1600 characters. |
| -- **From** | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| -- MaxPrice | string, Pattern=^-?[0-9]*.?[0-9]*$ | The total maximum price up to the fourth decimal (0.0001) in US dollars acceptable for the message to be delivered. |
| -- MediaUrl | string, Format=uri | The URL of the media you wish to send out with the message. gif , png and jpeg content is currently supported and will be formatted correctly on the recipient's device. |
| -- ApplicationSid | string | wilio will POST MessageSid as well as MessageStatus=sent or MessageStatus=failed to the URL in the MessageStatusCallback property of this Application |
| -- StatusCallback | string, Format=uri | A URL that Twilio will POST to each time your message status changes |
| -- MessagingServiceSid | string, Pattern=^[0-9a-zA-Z]{34}$ | The 34 character unique id of the Messaging Service you want to associate with this Message. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The SMS message in Twilio |
| - to | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| - sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| - uri | string, Format=uri | The URI for this resource, relative to https://api.twilio.com |
| - body | string | The text of the message you want to send, limited to 1600 characters. |
| - from | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| - price | string, Pattern=^-?[0-9]*.?[0-9]*$ | The amount billed for the message, in the currency associated with the account. |
| - status | string | The status of this message. |
| - date_sent | string, Format=date | The date that the message was sent or received, given in RFC 2822 format. |
| - direction | string | The direction of this message. |
| - num_media | string, Format=integer | This property indicates the number of media files associated with the message. Each message may send up to 10 media files. |
| - error_code | string | The error code, if any, associated with your message. If your message status is failed or undelivered, the ErrorCode can give you more information about the failure. |
| - price_unit | string, Format=ISO 4127 | The currency in which Price is measured, in ISO 4127 format (e.g. usd, eur, jpy). |
| - api_version | string, Format=date | The version of the Twilio API used to process the message. |
| - date_created | string, Format=date | The date that this resource was created, given in RFC 2822 format. |
| - date_updated | string, Format=date | The date that this resource was last updated, given in RFC 2822 format. |
| - num_segments | string, Format=integer | This property indicates the number of segments that make up the message. If your body is too large to be sent as a single SMS message, it will be segmented and charged accordingly. |
| - error_message | string | The human readable description of the ErrorCode above. |
| - subresource_uri | string, Format=uri | The URIs for any subresources associate with this resource, relative to https://api.twilio.com |
| - MessagingServiceSid | string, Pattern=^[0-9a-zA-Z]{34}$ | The unique id of the Messaging Service used with the message. |

##### Example
```lua
local parameters = { 
 message={ 
  To="8{1,2,3}82dddddd", 
  From="8{1,2,3}49dddddd", 
  MediaUrl="CFSWh1giSlW4PAyqAcY1A7o4GAXFn50JI6D8fekO-oJwlTbjXt635pG-fM5waw,vYfxu1SNtiDRNAq5yaL,Ab+8A8"
 }
 }

response = Twilio.postMessage(parameters)
```

#### getCall

>Returns the call details

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **CallSid** | string, Pattern=^[0-9a-zA-Z]{34}$ | Twilio call Sid |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | A Call details |
| - to | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| - sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| - uri | string, Format=uri | The URI for this resource, relative to https://api.twilio.com |
| - from | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| - price | string, Pattern=^-?[0-9]*.?[0-9]*$ | The amount billed for the call, in the currency associated with the account. |
| - status | string | The status of this message. |
| - duration | integer | The length of the call in seconds. |
| - end_time | string, Format=date-time | The end time of the call, given as GMT in RFC 2822 format. |
| - direction | string | The direction of this message. |
| - price_unit | string, Format=ISO 4127 | The currency in which Price is measured, in ISO 4127 format (e.g. usd, eur, jpy). |
| - start_time | string, Format=date-time | The start time of the call, given as GMT in RFC 2822 format. |
| - answered_by | string | If this call was initiated with answering machine detection. |
| - api_version | string, Format=date | The version of the Twilio API used to process the message. |
| - caller_name | string | If this call was an incoming call to a phone number with Caller ID Lookup enabled, the caller's name. |
| - date_created | string, Format=date | The date that this resource was created, given in RFC 2822 format. |
| - date_updated | string, Format=date | The date that this resource was last updated, given in RFC 2822 format. |
| - formatted_to | string | Formatted To |
| - formatted_from | string | Formatted From |
| - forwarded_from | string | If this call was an incoming call forwarded from another number, the forwarding phone number. |
| - parent_call_sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| - phone_number_sid | string, Pattern=^[0-9a-zA-Z]{34}$ | If the call was inbound, this is the Sid of the IncomingPhoneNumber that received the call. |
| - subresource_uris | object | The URIs for any subresources associate with this resource, relative to https://api.twilio.com |

##### Example
```lua
local parameters = { 
 CallSid="zXK5EwtxW6HCDkuc0rAZpkBDjAJsrg7QhQ"
 }

response = Twilio.getCall(parameters)
```

#### getMessage

>Returns the message details

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **MessageSid** | string, Pattern=^[0-9a-zA-Z]{34}$ | Twilio message Sid |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The SMS message in Twilio |
| - to | string, Pattern=^\+[0-9]+$, Format=E.164 | The destination phone number. Format with a '+' and country code e.g., +16175551212 (E.164 format). |
| - sid | string, Pattern=^[0-9a-zA-Z]{34}$ | A 34 character string that uniquely identifies this resource. |
| - uri | string, Format=uri | The URI for this resource, relative to https://api.twilio.com |
| - body | string | The text of the message you want to send, limited to 1600 characters. |
| - from | string, Pattern=^(\+[0-9]+|[0-9a-zA-Z]+)$, Format=E.164 | A Twilio phone number (in E.164 format) or alphanumeric sender ID enabled for the type of message you wish to send |
| - price | string, Pattern=^-?[0-9]*.?[0-9]*$ | The amount billed for the message, in the currency associated with the account. |
| - status | string | The status of this message. |
| - date_sent | string, Format=date | The date that the message was sent or received, given in RFC 2822 format. |
| - direction | string | The direction of this message. |
| - num_media | string, Format=integer | This property indicates the number of media files associated with the message. Each message may send up to 10 media files. |
| - error_code | string | The error code, if any, associated with your message. If your message status is failed or undelivered, the ErrorCode can give you more information about the failure. |
| - price_unit | string, Format=ISO 4127 | The currency in which Price is measured, in ISO 4127 format (e.g. usd, eur, jpy). |
| - api_version | string, Format=date | The version of the Twilio API used to process the message. |
| - date_created | string, Format=date | The date that this resource was created, given in RFC 2822 format. |
| - date_updated | string, Format=date | The date that this resource was last updated, given in RFC 2822 format. |
| - num_segments | string, Format=integer | This property indicates the number of segments that make up the message. If your body is too large to be sent as a single SMS message, it will be segmented and charged accordingly. |
| - error_message | string | The human readable description of the ErrorCode above. |
| - subresource_uri | string, Format=uri | The URIs for any subresources associate with this resource, relative to https://api.twilio.com |
| - MessagingServiceSid | string, Pattern=^[0-9a-zA-Z]{34}$ | The unique id of the Messaging Service used with the message. |

##### Example
```lua
local parameters = { 
 MessageSid="vDitzhBmHAJG0ycnZjvQavlmsKnkABl9dw"
 }

response = Twilio.getMessage(parameters)
```


---
  
## User Management Service

>A User management service, allowing to set and configure roles and permission.

### Operations

#### listRoles

>Returns the list of roles ignoring paramter.


##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitive unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameter | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |

##### Example
```lua

response = User.listRoles()
```

#### createRole

>Creates role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role** | object | Properties of new role. |
| -- role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitive unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- parameter | object[] |  |
| --- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitive unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameter | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
|  400 | object | Fail to create. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 role={  }
 }

response = User.createRole(parameters)
```

#### listUsers

>Returns the list of users.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - filter | string[] | Filter to limit the result set |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - id | string |  |
| - name | string |  |
| - email | string |  |
| - country | string |  |
| - verified | boolean |  |
| - time_zone | string |  |
| - properties | object[] |  |
| - created_via | string | One of invite/email-signup/google/facebook |
| - social_login | object |  |
| -- google_data | object |  |
| -- facebook_data | object |  |
| - creation_date | integer |  |
| - last_login_ip | string |  |
| - last_login_date | integer |  |
| - tos_accepted_date | integer |  |
| - last_login_country | string |  |

##### Example
```lua
local parameters = {  }

response = User.listUsers(parameters)
```

#### createUser

>Creates a new user

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **user** | object |  |
| -- **name** | string |  |
| -- **email** | string |  |
| -- **password** | string |  |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | Activation code for the created user |
|  400 | object | Fail to register. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 user={ 
  email="ut exercitation", 
  name="ea laboris veniam aliqua", 
  password="quis ut"
 }
 }

response = User.createUser(parameters)
```

#### getCurrentUser

>Gets user by given Token.


##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - id | string |  |
| - name | string |  |
| - email | string |  |
| - country | string |  |
| - verified | boolean |  |
| - time_zone | string |  |
| - properties | object[] |  |
| - created_via | string | One of invite/email-signup/google/facebook |
| - social_login | object |  |
| -- google_data | object |  |
| -- facebook_data | object |  |
| - creation_date | integer |  |
| - last_login_ip | string |  |
| - last_login_date | integer |  |
| - tos_accepted_date | integer |  |
| - last_login_country | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua

response = User.getCurrentUser()
```

#### getUser

>Gets user by given User ID.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - id | string |  |
| - name | string |  |
| - email | string |  |
| - country | string |  |
| - verified | boolean |  |
| - time_zone | string |  |
| - properties | object[] |  |
| - created_via | string | One of invite/email-signup/google/facebook |
| - social_login | object |  |
| -- google_data | object |  |
| -- facebook_data | object |  |
| - creation_date | integer |  |
| - last_login_ip | string |  |
| - last_login_date | integer |  |
| - tos_accepted_date | integer |  |
| - last_login_country | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="labore"
 }

response = User.getUser(parameters)
```

#### updateUser

>Updates given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |
| - **body** | object | Properties of user. |
| -- name | string |  |
| -- status | integer | 0: Not Activated 1: Activated 2: Disabled |
| -- password | string |  |
| -- original_password | string | Required if updating password. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - id | string |  |
| - name | string |  |
| - email | string |  |
| - country | string |  |
| - verified | boolean |  |
| - time_zone | string |  |
| - properties | object[] |  |
| - created_via | string | One of invite/email-signup/google/facebook |
| - social_login | object |  |
| -- google_data | object |  |
| -- facebook_data | object |  |
| - creation_date | integer |  |
| - last_login_ip | string |  |
| - last_login_date | integer |  |
| - tos_accepted_date | integer |  |
| - last_login_country | string |  |
|  400 | object | Fail to update. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 body={  }
 }

response = User.updateUser(parameters)
```

#### deleteUser

>Deletes given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |
|  400 | object | Fail to delete. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = {  }

response = User.deleteUser(parameters)
```

#### listPerms

>Returns the list of permissions.


##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - method | string, Pattern=^[A-Z]{1,10}$ |  |
| - end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |

##### Example
```lua

response = User.listPerms()
```

#### createPermission

>Adds permission.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **body** | object | Properties of new permission. |
| -- method | string, Pattern=^[A-Z]{1,10}$ |  |
| -- end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - method | string, Pattern=^[A-Z]{1,10}$ |  |
| - end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |
|  400 | object | Fail to create. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 body={  }
 }

response = User.createPermission(parameters)
```

#### getUserToken

>Gets user's token by email and password.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **body** | object |  |
| -- **email** | string |  |
| -- **password** | string |  |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | Returns token. |
|  400 | object | Returns if email or password is unmatched. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 body={ 
  email="consectetur sit esse", 
  password="amet"
 }
 }

response = User.getUserToken(parameters)
```

#### activateUser

>Activates user by given verification code.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **code** | string | The verification code returned from registeration. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | OK |
|  400 | object | Returned when activation failed. |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 code="cillum dolore"
 }

response = User.activateUser(parameters)
```

#### getRole

>Gets role by Role ID.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitive unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameter | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="ut irure ea Duis"
 }

response = User.getRole(parameters)
```

#### deleteRole

>Delete given role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - role_id | string | Role ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | OK |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = {  }

response = User.deleteRole(parameters)
```

#### listUserRoles

>Returns the list of assigned roles of given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitie unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameters | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- value | string, Pattern=^[A-Za-z0-9]{1,100}$ |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="labore"
 }

response = User.listUserRoles(parameters)
```

#### assignUser

>Assigns given roles to given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |
| - **roles** | object[] | Roles being assigned to given user. |
| -- role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitie unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- parameters | object[] |  |
| --- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| --- value | string, Pattern=^[A-Za-z0-9]{1,100}$ |  |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | Returns the list of assigned roles of given user. |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitie unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameters | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- value | string, Pattern=^[A-Za-z0-9]{1,100}$ |  |
|  400 | object | Fail to assign. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 roles={ 
 { 
["role_id"]="KhU8altc35gBiQpR1QBBXKhM7Z96-toTB"
 }, 
 { 
["role_id"]="bia"
 }, 
 { 
parameters={ 
 { 
value="RCHCqYso5z7W0RfHk693T3gmQgBgJyiiGy3U3oWYdgJ8Twy8Nygdqfl5n53Qkcabzna3q263cQR96TgLG2jKQr7d2hbeIG0DIv60"
 }
 }
 }, 
 { 
parameters={ 
 {  }, 
 {  }
 }
 }
 }
 }

response = User.assignUser(parameters)
```

#### listUserData

>Returns key values of given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |

##### Example
```lua
local parameters = { 
 id="dolor amet esse ullamco"
 }

response = User.listUserData(parameters)
```

#### updateUserData

>Updates key values of given user. (Should be moved?)

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |
| - **key values** | object | New values of existent keys. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | Returns current key values of given user. |
|  400 | object | Fail to update. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["key values"]={  }
 }

response = User.updateUserData(parameters)
```

#### createUserData

>Adds key values to given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |
| - **key values** | object | New key values being added to given user. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | Returns current key values of given user. |
|  400 | object | Fail to add. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["key values"]={  }
 }

response = User.createUserData(parameters)
```

#### deleteUserData

>Deletes key values from given user. (Should be moved?)

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |
| - **keys** | string[] | Keys being deleted from given user. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | Returns current key values of given user. |
|  400 | object | Fail to delete. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 keys={ 
 "est", 
 "aliquip exe", 
 "aliquip labore mollit Ut"
 }
 }

response = User.deleteUserData(parameters)
```

#### listRoleUsers

>Returns the list of user IDs in given role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string[] | OK |

##### Example
```lua
local parameters = { 
 ["role_id"]="amet n"
 }

response = User.listRoleUsers(parameters)
```

#### deletePerm

>Deletes given permission.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **perm_id** | string | urlencode({method}/{end_point}) |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["perm_id"]="ut sint"
 }

response = User.deletePerm(parameters)
```

#### getUserData

>Returns the value of given key of given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |
| - **key** | string | data key |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | The value of given key. |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="est", 
 key="commodo eu quis"
 }

response = User.getUserData(parameters)
```

#### addRoleParam

>Adds parameter definition to given role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |
| - **body** | object[] | Adding parameter definitions |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitive unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameter | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="tempor dolor velit", 
 body={ 
 {  }
 }
 }

response = User.addRoleParam(parameters)
```

#### deassignUser

>Deassigns given role from given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |
| - **role_id** | string | Role ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | Returns the list of assigned roles for the given user. |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitie unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameters | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- value | string, Pattern=^[A-Za-z0-9]{1,100}$ |  |
|  400 | object | Fail to deassign. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="adipisicing consectetur Ut eiusmod", 
 ["role_id"]="sit"
 }

response = User.deassignUser(parameters)
```

#### listRolePerms

>Returns the list of permissions in given role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - method | string, Pattern=^[A-Z]{1,10}$ |  |
| - end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="in"
 }

response = User.listRolePerms(parameters)
```

#### addRolePerm

>Adds permission to given role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - role_id | string | Role ID |
| - **body** | object[] | Adding permissions |
| -- method | string, Pattern=^[A-Z]{1,10}$ |  |
| -- end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - method | string, Pattern=^[A-Z]{1,10}$ |  |
| - end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 body={ 
 {  }, 
 {  }, 
 {  }, 
 { 
["end_point"]="mfGdTZAlQAhmGHBt-iRL{oq5Ho0en}BEO-AFlFJZlUBy0VQcOxIvTyDW/C{LoQjlB8xt2DEwFKcb4rTk3npBn76eqtjj}xOiznmyHOJvXxZEcpX{UsjmNOVwn0rhoE7"
 }
 }
 }

response = User.addRolePerm(parameters)
```

#### hasUserPerm

>Checks if given user has given permission.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |
| - **perm_id** | string | urlencode({method}/{end_point}) |
| - parameters | string[] | Given specific parameter values if permission (end_point) has parameters. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | OK |
|  403 | object | Forbidden |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="aliquip ea", 
 ["perm_id"]="Excepteur Duis"
 }

response = User.hasUserPerm(parameters)
```

#### deleteRolePerm

>Deletes permission from given role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |
| - **perm_id** | string | urlencode({method}/{end_point}) |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | OK |
| - method | string, Pattern=^[A-Z]{1,10}$ |  |
| - end_point | string, Pattern=^[A-Za-z0-9\-\/_\{\}]{1,150}$ | Can not end with a forward slash |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="fugiat", 
 ["perm_id"]="laborum anim"
 }

response = User.deleteRolePerm(parameters)
```

#### deleteRoleParam

>Deletes given role parameter definition.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |
| - **parameter_name** | string | Parameter name |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitive unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameter | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="Excepteur proident tempor", 
 ["parameter_name"]="irure reprehe"
 }

response = User.deleteRoleParam(parameters)
```

#### listUserRoleParamValues

>Returns the paginated list of values of given parameter name belong to given user role.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |
| - **role_id** | string | Role ID |
| - **parameter_name** | string | Parameter name |
| - offset | integer | Pagination offset |
| - limit | integer | Pagination limit |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | Values of given parameter name. |
| - items | string[] |  |
| - total | integer |  |
|  400 | object | Error message |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="pariatur et in", 
 ["role_id"]="voluptate nisi enim sit", 
 ["parameter_name"]="exercitation dolor sunt Lorem"
 }

response = User.listUserRoleParamValues(parameters)
```

#### deassignUserParamName

>Deassigns given role with specific parameter name from given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - id | string | User ID |
| - role_id | string | Role ID |
| - parameter_name | string | Parameter name |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | Returns the list of assigned roles for the given user. |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitie unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameters | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- value | string, Pattern=^[A-Za-z0-9]{1,100}$ |  |
|  400 | object | Fail to deassign. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = {  }

response = User.deassignUserParamName(parameters)
```

#### listRoleParamUsers

>Returns the list of user IDs in given role with specific parameter.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |
| - **parameter_name** | string | Parameter name |
| - **parameter_value** | string | Parameter value |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string[] | OK |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="elit aliqua", 
 ["parameter_name"]="in cupidatat", 
 ["parameter_value"]="cillum aliqua non eiusmod"
 }

response = User.listRoleParamUsers(parameters)
```

#### hasUserRoleParam

>Checks if given user has given role with specific parameter.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **role_id** | string | Role ID |
| - **parameter_name** | string | Parameter name |
| - **parameter_value** | string | Parameter value |
| - **id** | string | User ID |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | string | OK |
|  403 | object | Forbidden |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 ["role_id"]="nisi Duis aute consectetur", 
 ["parameter_name"]="est mollit", 
 ["parameter_value"]="occaecat", 
 id="nisi"
 }

response = User.hasUserRoleParam(parameters)
```

#### deassignUserParam

>Deassigns given role with specific parameter value from given user.

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **id** | string | User ID |
| - **role_id** | string | Role ID |
| - **parameter_name** | string | Parameter name |
| - **parameter_value** | string | Parameter value |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object[] | Returns the list of assigned roles for the given user. |
| - role_id | string, Pattern=^[A-Za-z0-9\-_]{1,80}$ | Case-insensitie unique id in roles. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| - parameters | object[] |  |
| -- name | string, Pattern=^[A-Za-z0-9\-_]{1,40}$ | Case-insensitive unique name in roles' parameters. Keywords: me, user(s), permission(s), role(s), parameter(s), group(s), member(s) |
| -- value | string, Pattern=^[A-Za-z0-9]{1,100}$ |  |
|  400 | object | Fail to deassign. |
| - message | string | Error Message |
| - status_code | string |  |
|  404 | object | Not Found |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 id="nulla ullamco elit occaecat", 
 ["role_id"]="qui ullamco Excepteur irure", 
 ["parameter_name"]="pariatur voluptate eiusmod Duis", 
 ["parameter_value"]="sint consequat"
 }

response = User.deassignUserParam(parameters)
```


---
  
## Key-Value Store

>A Key Value storage Service

### Operations

#### list

>Returns all keys stored in the solution


##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | result |
| - keys | string[] | Solution keys |
| - quota | integer | Maximum number of keys allowed for this solution |
|  400 | object | Request error |
| - error | object,string | Error details |
| - **message** | string |  |
|  500 | object | Internal error |
| - error | object,string | Error details |
| - **message** | string |  |

##### Example
```lua

response = Keystore.list()
```

#### clear

>Remove all keys from this solution


##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  204 |  | OK |
|  400 | object | Request error |
| - error | object,string | Error details |
| - **message** | string |  |
|  500 | object | Internal error |
| - error | object,string | Error details |
| - **message** | string |  |

##### Example
```lua

response = Keystore.clear()
```

#### get

>Returns the value of the given key

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **key** | string, Pattern=^[\w\@\.\-]+$ | Key id |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - **value** | string,number,boolean,null | Value |
|  400 | object | Request error |
| - error | object,string | Error details |
| - **message** | string |  |
|  500 | object | Internal error |
| - error | object,string | Error details |
| - **message** | string |  |

##### Example
```lua
local parameters = { 
 key="8-cIc_CqiAj3GesmtMC9wdfNFq@B_Ni93dc85lwNRbMBVkTKr1m9y4A22@Dvin"
 }

response = Keystore.get(parameters)
```

#### set

>Set a key value

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - key | string, Pattern=^[\w\@\.\-]+$ | Key id |
| - **body** | object | Value to set |
| -- **value** | string,number,boolean,null | Value |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  204 |  | OK |
|  400 | object | Request error |
| - error | object,string | Error details |
| - **message** | string |  |
|  500 | object | Internal error |
| - error | object,string | Error details |
| - **message** | string |  |

##### Example
```lua
local parameters = { 
 body={ 
  value=nil
 }
 }

response = Keystore.set(parameters)
```

#### delete

>Remove a key-value from the store

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - key | string, Pattern=^[\w\@\.\-]+$ | Key id |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  204 |  | OK |
|  400 | object | Request error |
| - error | object,string | Error details |
| - **message** | string |  |
|  500 | object | Internal error |
| - error | object,string | Error details |
| - **message** | string |  |

##### Example
```lua
local parameters = {  }

response = Keystore.delete(parameters)
```

#### command

>Execute a Redis command

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **key** | string, Pattern=^[\w\@\.\-]+$ | Target key |
| - **command** | string | Command to execute on the key |
| - **body** | object | Command Value |
| -- args | string,number,boolean[] | List of arguments |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | OK |
| - **value** | string,number,boolean,null | Value |
|  400 | object | Request error |
| - error | object,string | Error details |
| - **message** | string |  |
|  500 | object | Internal error |
| - error | object,string | Error details |
| - **message** | string |  |

##### Example
```lua
local parameters = { 
 key="hXoE5iToR.FIz3cV39uhz6HUbndqeYeuqyNfgGNjUrlgeChlolU3M4etTx9sOjMAjw6s1@DY65R8", 
 command="decrby", 
 body={  }
 }

response = Keystore.command(parameters)
```


---
  
## Timer Service API

>Set up timers which will fire events once, on an interval, or on a schedule

### Operations

#### schedule

>Sets up a timer which will fire on a schedule which is based
on the date and time on which the schedule is created.


##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - timer_spec | object | The timer specification |
| -- message | string,object | The message to send when the timer is hit |
| -- duration | integer | The duration of the timer in milliseconds.
Required for send_after and send_interval,
ignored for scheduled tasks.
 |
| -- schedule | object |  |
| --- daily | boolean | This task should occur daily |
| --- hourly | boolean | This task should occur hourly |
| --- weekly | boolean | This task should occur weekly |
| --- yearly | boolean | This task should occur yearly |
| --- monthly | boolean | This task should occur monthly |
| -- timer_id | string | The ID of the timer. If null, it will be generated for you. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The timer was created successfully |
| - result | string | A message describing the result of the operation |
| - timer_id | string | The ID of the timer |
|  default | object | An error occurred |
| - type | string |  |
| - message | string |  |

##### Example
```lua
local parameters = {  }

response = Timer.schedule(parameters)
```

#### sendAfter

>Sets up a timer which will fire once after `duration` has passed.


##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - timer_spec | object | The timer specification |
| -- message | string,object | The message to send when the timer is hit |
| -- duration | integer | The duration of the timer in milliseconds.
Required for send_after and send_interval,
ignored for scheduled tasks.
 |
| -- schedule | object |  |
| --- daily | boolean | This task should occur daily |
| --- hourly | boolean | This task should occur hourly |
| --- weekly | boolean | This task should occur weekly |
| --- yearly | boolean | This task should occur yearly |
| --- monthly | boolean | This task should occur monthly |
| -- timer_id | string | The ID of the timer. If null, it will be generated for you. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The timer was created successfully |
| - result | string | A message describing the result of the operation |
| - timer_id | string | The ID of the timer |
|  default | object | An error occurred |
| - type | string |  |
| - message | string |  |

##### Example
```lua
local parameters = {  }

response = Timer.sendAfter(parameters)
```

#### sendInterval

>Sets up a timer which will fire once every `duration`.


##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - timer_spec | object | The timer specification |
| -- message | string,object | The message to send when the timer is hit |
| -- duration | integer | The duration of the timer in milliseconds.
Required for send_after and send_interval,
ignored for scheduled tasks.
 |
| -- schedule | object |  |
| --- daily | boolean | This task should occur daily |
| --- hourly | boolean | This task should occur hourly |
| --- weekly | boolean | This task should occur weekly |
| --- yearly | boolean | This task should occur yearly |
| --- monthly | boolean | This task should occur monthly |
| -- timer_id | string | The ID of the timer. If null, it will be generated for you. |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The timer was created successfully |
| - result | string | A message describing the result of the operation |
| - timer_id | string | The ID of the timer |
|  default | object | An error occurred |
| - type | string |  |
| - message | string |  |

##### Example
```lua
local parameters = {  }

response = Timer.sendInterval(parameters)
```

#### cancel

>This operation will cancel an active timer.


##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **timer_id** | string | The ID of the timer to cancel |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The timer was deleted successfully |
| - result | string | ok if successful |
|  default | object | An error occurred |
| - type | string |  |
| - message | string |  |

##### Example
```lua
local parameters = { 
 ["timer_id"]="eiusmod veniam laboris occaecat"
 }

response = Timer.cancel(parameters)
```

#### cancel_all

>This operation will cancel all active timers in the given solution.



##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 | object | The operation completed successfully |
| - result | string | ok if successful |
|  default | object | An error occurred |
| - type | string |  |
| - message | string |  |

##### Example
```lua

response = Timer.cancel_all()
```


### Events

#### timer

>the event of message sent by the timer

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  request | object | The infomation of timer data |
| - message | object | The message to send when the timer is hit |
| - **timer_id** | string | The ID of the timer. If null, it will be generated for you.
 |
| - solution_id | string | The ID of the solution this timer is associated with.
 |


##### Example
```lua
function handle_timer_timer (request)

 ... 

end
```

---
  
## Web-Socket Gateway Service

>Web-Socket Gateway of the custom API

### Operations

#### get

>Check websocket status

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **socket_id** | string | The Websocket channel ID |
| - **server_ip** | string, Format=ipv4 | The server ip address to hold websocket connection |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |
|  404 |  | websocket id is not found(closed). |

##### Example
```lua
local parameters = { 
 ["socket_id"]="non", 
 ["server_ip"]="32.12.149.104"
 }

response = Websocket.get(parameters)
```

#### close

>Terminate websocket connection

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - socket_id | string | The Websocket channel ID |
| - server_ip | string, Format=ipv4 | The server ip address to hold websocket connection |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |
|  404 |  | websocket id not found |

##### Example
```lua
local parameters = { 
 ["server_ip"]="85.47.149.123"
 }

response = Websocket.close(parameters)
```

#### send

>Send message to websocket end user

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **socket_id** | string | The Websocket channel ID |
| - server_ip | string, Format=ipv4 | The server ip address to hold websocket connection |
| - **body** | object | The data to be sent to end-user websocket |
| -- type | string | Message type |
| -- message | string | Content of the message |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |
|  404 |  | websocket id not found |

##### Example
```lua
local parameters = { 
 ["socket_id"]="adipisicing", 
 body={  }
 }

response = Websocket.send(parameters)
```


### Events

#### websocket_info

>Websocket request infromation

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  **websocket_info** | object | Websocket infromation |
| - uri | string | The full URI of websocket request |
| - type | string | The state of websocket connection |
| - route | string | The endpoint path, matching the custom api endpoint configuration |
| - headers | object | The websocket request headers |
| - message | string | The websocket message |
| - server_ip | string, Format=ipv4 | The server ip address to hold websocket connection |
| - socket_id | string | Unique socket id use to communicate with end user |
| - timestamp | integer | Request timestamp |
| - parameters | object | The http request query parameters |
| - message_type | string | The websocket message type |


##### Example
```lua
function handle_websocket_websocket_info (websocket_info)

 ... 

end
```

---
  
## Time Series Storage Service

>A time series storage using InfluxDB

### Operations

#### query

>Queries in DB of given solution id

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **q** | string | query string |
| - epoch | string | timestamps in Unix epoch format |
| - chunk_size | string | explicitly set the batch size |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |

##### Example
```lua
local parameters = { 
 q="ex"
 }

response = Timeseries.query(parameters)
```

#### write

>Writes data into DB of given solution id

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **body** | object |  |
| -- **query** | string |  |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  204 |  | OK |
|  400 | object | Bad request |
| - message | string | Error Message |
| - status_code | string |  |

##### Example
```lua
local parameters = { 
 body={ 
  query="culpa in"
 }
 }

response = Timeseries.write(parameters)
```


---
  
## Email Service

>Smtp Email service

### Operations

#### send

>Send an email

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **email** | object | The email data |
| -- cc | string[], Format=email | Carbon copy destinator(s) |
| -- **to** | string[], Format=email | Destinator(s) |
| -- bcc | string[], Format=email | Blind carbon copy destinator(s) |
| -- **from** | string, Format=email | Sender of the email |
| -- html | string, Format=html | The message in HTML |
| -- **text** | string | The message text |
| -- **subject** | string | Email subject |
| -- connection | object | An SMTP connection |
| --- port | integer | The smtp server port |
| --- **user** | string | The smtp server account |
| --- scheme | string | The smtp server |
| --- **server** | string, Format=uri | The smtp server |
| --- **password** | string | The smtp server password |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  Error | object | Failed to send Email |
| - message | string | Error Message |
| - statusCode | string |  |
|  Success |  | Email sent |

##### Example
```lua
local parameters = { 
 email={ 
  from="8OFFFjFMnAYkG@RZLzbIYJznzfdLFtWRAgEH.vwv", 
  to="VKNWZIAEV@gMkPcGzgRvpyXkoJLPsCOoiR.pahs", 
  subject="qui incididunt cillum minim", 
  text="quis aliquip eiusmod deserunt", 
  bcc={ 
 "DoiozP9lib1ufP@kVTTsWMudHfOuncYWSTtMrcBizoMhu.mudl", 
 "MASdku3kaU2f5-F@DJbdgwBxyPCvlYfAsmdqrWNummpuwkZg.mk", 
 "l52UU@OvZC.ev", 
 "cBIR-7hUXDdzd@GHaMUSgDSRXyParlOcVtEs.ywsm"
 }, 
  cc="WtI5uGJYznD@KFOKdd.icar", 
  connection={ 
   server="ZWk6l1JU7Jb9iwjG.7E.Hoeit3xvnnYQ24QeCEs9BwD2k+g.tu2WLF.+xqDqkU0a2y0Wc0bpTRQjCUCRs5dUkV,--Nh0+rOh5pJ", 
   user="aliquip deserunt", 
   password="minim in Duis", 
   scheme="smtps"
 }
 }
 }

response = Email.send(parameters)
```


---
  
## Custom User API Gateway Service

>Custom User API for communication with end-user

### Operations

#### api_reply

>Send api result to end user

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  parameters | object | Object containing service call parameters. |
| - **request_id** | string | The request id associated with the custom api call. |
| - server_ip | string, Format=ipv4 | The server ip address to hold websocket connection |
| - **response** | object | The data from the response |
| -- **code** | integer | The http response status code |
| -- **headers** | object | optional http response headers |
| -- **message** | string | The http response body |

##### responses

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  200 |  | OK |
|  404 |  | request id not found |

##### Example
```lua
local parameters = { 
 ["request_id"]="in exercitation", 
 response={ 
  code=-64108128, 
  headers={  }, 
  message="id"
 }
 }

response = Webservice.api_reply(parameters)
```


### Events

#### request

>An http request has been made on a Custom api endpoint

##### Parameters

| Name        | Type          | Description  |
| ----------- |:-------------:| ------------ |
|  **request** | object | The data from the request |
| - uri | string | The full URI of api request |
| - body | object | The http request json body object |
| - route | string | The endpoint path, matching the custom api endpoint configuration |
| - method | string | The http method |
| - headers | object | The http request headers |
| - server_ip | string, Format=ipv4 | The server ip address to hold websocket connection |
| - timestamp | integer | Request timestamp |
| - parameters | object | The http request query parameters |
| - request_id | string | Unique message id use to match with the response |


##### Example
```lua
function handle_webservice_request (request)

 ... 

end
```

---
